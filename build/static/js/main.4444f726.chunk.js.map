{"version":3,"sources":["redux/selectors/authSelectors.js","redux/operations/authOperations.js","redux/actions/authActions.js","redux/actions/phonebookActions.js","redux/routes/mainRoutes.js","components/logOutMenu/LogOutMenuStyled.js","components/logOutMenu/LogOutMenu.js","components/header/HeaderStyled.js","components/header/Header.js","components/privateRoute/PrivateRoute.js","components/publicRoute/PublicRoute.js","components/main/Main.js","components/App.js","redux/reducers/authReducer.js","redux/reducers/phonebookReducer.js","redux/reducers/rootReducer.js","redux/store.js","index.js"],"names":["isAuth","state","auth","token","getUserName","user","email","getLocalId","localId","axios","defaults","baseURL","process","headers","common","Authorization","signUpOperation","dispatch","a","signUpRequest","post","returnSecureToken","res","data","idToken","signUpSuccess","signUpError","signInOperation","signInRequest","signInSuccess","signInError","logOutOperation","logOutSuccess","getUserOperation","getState","persistToken","getCurrentUserRequest","getCurrentUserSuccess","getCurrentUserError","createAction","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","getContactsRequest","getContactsSuccess","getContactsError","setFilter","mainRoutes","path","name","exact","component","lazy","private","restricted","LogOutMenuStyled","styled","div","LogOutMenu","useDispatch","userName","useSelector","className","type","onClick","HeaderStyled","header","NavElem","NavLink","props","activeClassName","Header","isAuthenticated","map","route","to","PrivateRoute","MyComponent","render","PublicRoute","Main","fallback","App","history","useHistory","useEffect","replace","initialState","userReducer","createReducer","_","payload","tokenReducer","localIdReducer","errorReducer","authReducer","combineReducers","error","contactsReducer","filter","item","id","filterReducer","loaderReducer","phonebookReducer","contacts","loader","authPersistConfig","key","storage","whitelist","rootReducer","phonebook","persistReducer","store","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistor","persistStore","ReactDOM","loading","document","getElementById"],"mappings":"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","file":"static/js/main.4444f726.chunk.js","sourcesContent":["export const isAuth = state => state.auth.token;\r\nexport const getUserName = state => state.auth.user.email;\r\nexport const getLocalId = state => state.auth.localId;\r\n","import axios from 'axios';\r\nimport {\r\n  getCurrentUserError,\r\n  getCurrentUserRequest,\r\n  getCurrentUserSuccess,\r\n  logOutSuccess,\r\n  signInError,\r\n  signInRequest,\r\n  signInSuccess,\r\n  signUpError,\r\n  signUpRequest,\r\n  signUpSuccess,\r\n} from '../actions/authActions';\r\n\r\naxios.defaults.baseURL = process.env.REACT_APP_BASE_URL;\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\nexport const signUpOperation = user => async dispatch => {\r\n  dispatch(signUpRequest());\r\n  try {\r\n    const res = await axios.post(process.env.REACT_APP_SIGNUP_URL, {\r\n      ...user,\r\n      returnSecureToken: true,\r\n    });\r\n\r\n    token.set(res.data.idToken);\r\n    dispatch(signUpSuccess(res.data));\r\n  } catch (error) {\r\n    dispatch(signUpError(error));\r\n  }\r\n};\r\n\r\nexport const signInOperation = user => async dispatch => {\r\n  dispatch(signInRequest());\r\n  try {\r\n    const res = await axios.post(process.env.REACT_APP_SIGNIN_URL, {\r\n      ...user,\r\n      returnSecureToken: true,\r\n    });\r\n\r\n    token.set(res.data.idToken);\r\n    dispatch(signInSuccess(res.data));\r\n  } catch (error) {\r\n    dispatch(signInError(error));\r\n  }\r\n};\r\n\r\nexport const logOutOperation = () => async dispatch => {\r\n  dispatch(logOutSuccess());\r\n};\r\n\r\nexport const getUserOperation = () => async (dispatch, getState) => {\r\n  const {\r\n    auth: { token: persistToken, localId },\r\n  } = getState();\r\n\r\n  if (!persistToken) return;\r\n  token.set(persistToken);\r\n  dispatch(getCurrentUserRequest());\r\n\r\n  try {\r\n    const res = await axios.post(\r\n      `contacts/${localId}.json?auth=${persistToken}`,\r\n      {},\r\n    );\r\n    dispatch(getCurrentUserSuccess(res.data));\r\n  } catch (error) {\r\n    dispatch(getCurrentUserError(error));\r\n  }\r\n};\r\n","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const signUpRequest = createAction('auth/signUpRequest');\r\nexport const signUpSuccess = createAction('auth/signUpSuccess');\r\nexport const signUpError = createAction('auth/signUpError');\r\n\r\nexport const signInRequest = createAction('auth/signInRequest');\r\nexport const signInSuccess = createAction('auth/signInSuccess');\r\nexport const signInError = createAction('auth/signInError');\r\n\r\nexport const logOutSuccess = createAction('auth/logOutSuccess');\r\n\r\nexport const getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\r\nexport const getCurrentUserSuccess = createAction('auth/getCurrentUserSuccess');\r\nexport const getCurrentUserError = createAction('auth/getCurrentUserError');\r\n","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const addContactRequest = createAction('phonebook/addRequest');\r\nexport const addContactSuccess = createAction('phonebook/addSuccess');\r\nexport const addContactError = createAction('phonebook/addError');\r\n\r\nexport const deleteContactRequest = createAction('phonebook/deleteRequest');\r\nexport const deleteContactSuccess = createAction('phonebook/deleteSuccess');\r\nexport const deleteContactError = createAction('phonebook/deleteError');\r\n\r\nexport const getContactsRequest = createAction('phonebook/getRequest');\r\nexport const getContactsSuccess = createAction('phonebook/getSuccess');\r\nexport const getContactsError = createAction('phonebook/getError');\r\n\r\nexport const setFilter = createAction('phonebook/setFilter');\r\n","import { lazy } from 'react';\r\n\r\nconst mainRoutes = [\r\n  {\r\n    path: '/',\r\n    name: 'Home',\r\n    exact: true,\r\n    component: lazy(() =>\r\n      import('../pages/homePage/HomePage' /*webpackChunkName: \"Home\" */),\r\n    ),\r\n    private: false,\r\n    restricted: false,\r\n  },\r\n  {\r\n    path: '/register',\r\n    name: 'Register',\r\n    exact: false,\r\n    component: lazy(() =>\r\n      import(\r\n        '../pages/signUpPage/SignUpPage' /*webpackChunkName: \"SignUpPage\" */\r\n      ),\r\n    ),\r\n    private: false,\r\n    restricted: true,\r\n  },\r\n  {\r\n    path: '/login',\r\n    name: 'Login',\r\n    exact: false,\r\n    component: lazy(() =>\r\n      import(\r\n        '../pages/signInPage/SignInPage' /*webpackChunkName: \"SignInPage\" */\r\n      ),\r\n    ),\r\n    private: false,\r\n    restricted: true,\r\n  },\r\n  {\r\n    path: '/contacts',\r\n    name: 'Contacts',\r\n    exact: false,\r\n    component: lazy(() =>\r\n      import(\r\n        '../pages/contactsPage/ContactsPage' /*webpackChunkName: \"ContactsPage\" */\r\n      ),\r\n    ),\r\n    private: true,\r\n    restricted: false,\r\n  },\r\n];\r\n\r\nexport default mainRoutes;\r\n","import styled from 'styled-components';\r\n\r\nconst LogOutMenuStyled = styled.div`\r\n  right: 20px;\r\n  position: absolute;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  .logOutMenuText {\r\n    margin-right: 20px;\r\n  }\r\n  .logOutMenuBtn {\r\n    padding: 5px 15px;\r\n    border: 1px solid navy;\r\n    border-radius: 5px;\r\n    background-color: lightblue;\r\n    box-shadow: 1px 1px 7px 0px rgba(140, 140, 140, 0.75);\r\n  }\r\n  .logOutMenuBtn:hover,\r\n  .logOutMenuBtn:focus {\r\n    background-color: yellowgreen;\r\n  }\r\n`;\r\n\r\nexport default LogOutMenuStyled;\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport LogOutMenuStyled from './LogOutMenuStyled';\r\nimport { getUserName } from '../../redux/selectors/authSelectors';\r\nimport { logOutOperation } from '../../redux/operations/authOperations';\r\n\r\nconst LogOutMenu = () => {\r\n  const dispatch = useDispatch();\r\n  const userName = useSelector(getUserName);\r\n\r\n  const onLogOut = () => {\r\n    dispatch(logOutOperation());\r\n  };\r\n\r\n  return (\r\n    <LogOutMenuStyled>\r\n      <span className=\"logOutMenuText\">Hello, {userName}</span>\r\n      <button className=\"logOutMenuBtn\" type=\"button\" onClick={onLogOut}>\r\n        Log Out\r\n      </button>\r\n    </LogOutMenuStyled>\r\n  );\r\n};\r\n\r\nexport default LogOutMenu;\r\n","import styled from 'styled-components';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst HeaderStyled = styled.header`\r\n  top: 0;\r\n  left: 0;\r\n  position: sticky;\r\n  z-index: 1100;\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  min-height: 64px;\r\n  padding-right: 24px;\r\n  padding-left: 24px;\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n  margin-bottom: 20px;\r\n  color: #fff;\r\n  background-color: #3f51b5;\r\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\r\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\r\n`;\r\n\r\nexport default HeaderStyled;\r\n\r\nexport const NavElem = styled(NavLink)`\r\n  text-decoration: none;\r\n  padding: 10px;\r\n  font-size: 20px;\r\n  color: lightgrey;\r\n\r\n  &.${props => props.activeClassName} {\r\n    color: white;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport mainRoutes from '../../redux/routes/mainRoutes';\r\nimport { isAuth } from '../../redux/selectors/authSelectors';\r\nimport LogOutMenu from '../logOutMenu/LogOutMenu';\r\nimport HeaderStyled, { NavElem } from './HeaderStyled';\r\n\r\nconst Header = () => {\r\n  const isAuthenticated = useSelector(isAuth);\r\n\r\n  return (\r\n    <HeaderStyled>\r\n      {isAuthenticated\r\n        ? mainRoutes.map(\r\n            route =>\r\n              !route.restricted && (\r\n                <NavElem\r\n                  className=\"navlink\"\r\n                  activeClassName=\"navlink-active\"\r\n                  to={route.path}\r\n                  key={route.name}\r\n                  exact={route.exact}\r\n                >\r\n                  {route.name}\r\n                </NavElem>\r\n              ),\r\n          )\r\n        : mainRoutes.map(\r\n            route =>\r\n              !route.private && (\r\n                <NavElem\r\n                  className=\"navlink\"\r\n                  activeClassName=\"navlink-active\"\r\n                  to={route.path}\r\n                  key={route.name}\r\n                  exact={route.exact}\r\n                >\r\n                  {route.name}\r\n                </NavElem>\r\n              ),\r\n          )}\r\n      {isAuthenticated && <LogOutMenu />}\r\n    </HeaderStyled>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { isAuth } from '../../redux/selectors/authSelectors';\r\n\r\nconst PrivateRoute = ({ component: MyComponent, ...props }) => {\r\n  const isAuthenticated = useSelector(isAuth);\r\n  return (\r\n    <Route\r\n      {...props}\r\n      render={props => {\r\n        return isAuthenticated ? (\r\n          <MyComponent {...props} />\r\n        ) : (\r\n          <Redirect to=\"/login\" />\r\n        );\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { isAuth } from '../../redux/selectors/authSelectors';\r\n\r\nconst PublicRoute = ({ component: MyComponent, restricted, ...props }) => {\r\n  const isAuthenticated = useSelector(isAuth);\r\n\r\n  return (\r\n    <Route\r\n      {...props}\r\n      render={props => {\r\n        return isAuthenticated && restricted ? (\r\n          <Redirect to=\"/contacts\" />\r\n        ) : (\r\n          <MyComponent {...props} />\r\n        );\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default PublicRoute;\r\n","import React, { Suspense } from 'react';\r\nimport { Switch } from 'react-router-dom';\r\n\r\nimport mainRoutes from '../../redux/routes/mainRoutes';\r\nimport PrivateRoute from '../privateRoute/PrivateRoute';\r\nimport PublicRoute from '../publicRoute/PublicRoute';\r\n\r\nconst Main = () => {\r\n  return (\r\n    <Suspense fallback={<div>... Loading </div>}>\r\n      <Switch>\r\n        {mainRoutes.map(route =>\r\n          route.private ? (\r\n            <PrivateRoute key={route.path} {...route} />\r\n          ) : (\r\n            <PublicRoute\r\n              key={route.path}\r\n              {...route}\r\n              restricted={route.restricted}\r\n            />\r\n          ),\r\n        )}\r\n      </Switch>\r\n    </Suspense>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport Header from './header/Header';\r\nimport Main from './main/Main';\r\nimport { isAuth } from '../redux/selectors/authSelectors';\r\nimport { getUserOperation } from '../redux/operations/authOperations';\r\n\r\nconst App = () => {\r\n  const dispatch = useDispatch();\r\n  const isAuthenticated = useSelector(isAuth);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    dispatch(getUserOperation());\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!isAuthenticated) {\r\n      history.replace('/login');\r\n      return;\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [isAuthenticated]);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Main />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { combineReducers, createReducer } from '@reduxjs/toolkit';\r\nimport {\r\n  getCurrentUserError,\r\n  getCurrentUserSuccess,\r\n  logOutSuccess,\r\n  signInError,\r\n  signInSuccess,\r\n  signUpError,\r\n  signUpSuccess,\r\n} from '../actions/authActions';\r\n\r\nconst initialState = { email: '' };\r\n\r\nconst userReducer = createReducer(initialState, {\r\n  [signUpSuccess]: (_, { payload }) => ({ email: payload.email }),\r\n  [signInSuccess]: (_, { payload }) => ({ email: payload.email }),\r\n  [getCurrentUserSuccess]: (_, { payload }) => payload,\r\n  [logOutSuccess]: () => initialState,\r\n});\r\n\r\nconst tokenReducer = createReducer(null, {\r\n  [signUpSuccess]: (_, { payload }) => payload.idToken,\r\n  [signInSuccess]: (_, { payload }) => payload.idToken,\r\n  [logOutSuccess]: () => null,\r\n});\r\n\r\nconst localIdReducer = createReducer(null, {\r\n  [signUpSuccess]: (_, { payload }) => payload.localId,\r\n  [signInSuccess]: (_, { payload }) => payload.localId,\r\n  [logOutSuccess]: () => null,\r\n});\r\n\r\nconst errorReducer = createReducer(null, {\r\n  [signUpError]: (_, { payload }) => payload,\r\n  [signInError]: (_, { payload }) => payload,\r\n  [getCurrentUserError]: (_, { payload }) => payload,\r\n});\r\n\r\nconst authReducer = combineReducers({\r\n  user: userReducer,\r\n  token: tokenReducer,\r\n  error: errorReducer,\r\n  localId: localIdReducer,\r\n});\r\n\r\nexport default authReducer;\r\n","import { createReducer } from '@reduxjs/toolkit';\r\nimport { combineReducers } from 'redux';\r\nimport {\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  getContactsRequest,\r\n  getContactsSuccess,\r\n  getContactsError,\r\n  deleteContactRequest,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n  setFilter,\r\n} from '../actions/phonebookActions';\r\n\r\nconst onAddContact = (state, { payload }) => [...state, payload];\r\nconst onDeleteContact = (state, { payload }) => [\r\n  ...state.filter(item => item.id !== payload),\r\n];\r\nconst onSetFilter = (_, { payload }) => payload;\r\nconst onGetInitialContacts = (_, { payload }) => [...payload];\r\n\r\nconst contactsReducer = createReducer([], {\r\n  [addContactSuccess]: onAddContact,\r\n  [deleteContactSuccess]: onDeleteContact,\r\n  [getContactsSuccess]: onGetInitialContacts,\r\n});\r\n\r\nconst filterReducer = createReducer('', {\r\n  [setFilter]: onSetFilter,\r\n});\r\n\r\nconst loaderReducer = createReducer(false, {\r\n  [addContactRequest]: () => true,\r\n  [addContactSuccess]: () => false,\r\n  [addContactError]: () => false,\r\n\r\n  [deleteContactRequest]: () => true,\r\n  [deleteContactSuccess]: () => false,\r\n  [deleteContactError]: () => false,\r\n\r\n  [getContactsRequest]: () => true,\r\n  [getContactsSuccess]: () => false,\r\n  [getContactsError]: () => false,\r\n});\r\n\r\nconst errorReducer = createReducer(null, {\r\n  [addContactError]: (_, { payload }) => payload,\r\n  [deleteContactError]: (_, { payload }) => payload,\r\n  [getContactsError]: (_, { payload }) => payload,\r\n});\r\n\r\nconst phonebookReducer = combineReducers({\r\n  contacts: contactsReducer,\r\n  filter: filterReducer,\r\n  loader: loaderReducer,\r\n  error: errorReducer,\r\n});\r\n\r\nexport default phonebookReducer;\r\n","import { combineReducers } from 'redux';\r\nimport authReducer from './authReducer';\r\nimport phonebookReducer from './phonebookReducer';\r\nimport { persistReducer } from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\n\r\nconst authPersistConfig = {\r\n  key: 'auth',\r\n  storage,\r\n  whitelist: ['token', 'localId'],\r\n};\r\n\r\nconst rootReducer = combineReducers({\r\n  phonebook: phonebookReducer,\r\n  auth: persistReducer(authPersistConfig, authReducer),\r\n});\r\n\r\nexport default rootReducer;\r\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport rootReducer from '../redux/reducers/rootReducer';\r\nimport {\r\n  FLUSH,\r\n  PAUSE,\r\n  PERSIST,\r\n  persistStore,\r\n  PURGE,\r\n  REGISTER,\r\n  REHYDRATE,\r\n} from 'redux-persist';\r\n\r\nconst store = configureStore({\r\n  reducer: rootReducer,\r\n  middleware: getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n});\r\n\r\nexport default store;\r\nexport const persistor = persistStore(store);\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport '../node_modules/modern-normalize/modern-normalize.css';\nimport './index.css';\n\nimport App from './components/App';\nimport { Provider } from 'react-redux';\nimport store, { persistor } from './redux/store';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate loading={null} persistor={persistor}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </PersistGate>\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}